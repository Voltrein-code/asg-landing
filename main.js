(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,n){if("object"!==e(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(r)?r:String(r)),o)}var r}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentPopup=t,this.container=t.querySelector(".popup__container"),this.closeButton=t.querySelector(".popup__close"),this.elCenterX=0,this.elCenterY=0,this.animationTime=400,this.containerWidth=this.container.offsetWidth,this.containerHeight=this.container.offsetHeight,this.handleEscClose=e.handleEscClose.bind(this),this.handleOverlayClose=e.handleOverlayClose.bind(this),this.resizePopup=this.resizePopup.bind(this)}var n,i,o;return n=e,o=[{key:"returnCenter",value:function(e,t){return"x"===t?e.target.getBoundingClientRect().left+e.target.offsetWidth/2:e.target.getBoundingClientRect().top+e.target.offsetHeight/2}},{key:"scaleHandler",value:function(e){return e?[{transform:"scale(100%)"},{transform:"scale(0)"}]:[{transform:"scale(0)"},{transform:"scale(100%)"}]}},{key:"runAnimation",value:function(e,t,n){e.animate(t,n)}},{key:"handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"handleOverlayClose",value:function(e){e.target===this.currentPopup&&this.close()}}],(i=[{key:"marginHandler",value:function(e,t,n){return n?[{margin:"".concat((window.innerHeight-this.container.offsetHeight)/2,"px 0 0 ").concat((window.innerWidth-this.container.offsetWidth)/2,"px")},{margin:"".concat(t-this.container.offsetHeight/2,"px 0 0 ").concat(e-this.container.offsetWidth/2,"px")}]:[{margin:"".concat(t-this.container.offsetHeight/2,"px 0 0 ").concat(e-this.container.offsetWidth/2,"px")},{margin:"".concat((window.innerHeight-this.container.offsetHeight)/2,"px 0 0 ").concat((window.innerWidth-this.container.offsetWidth)/2,"px")}]}},{key:"setPopupPositionDelay",value:function(e,t){var n=this;setTimeout((function(){t?(n.currentPopup.removeAttribute("style"),n.currentPopup.classList.remove("popup_visible")):(n.currentPopup.setAttribute("style","margin: ".concat((window.innerHeight-n.containerHeight)/2,"px 0 0 ").concat((window.innerWidth-n.containerWidth)/2,"px")),n.currentPopup.classList.remove("popup_showing"),n.currentPopup.classList.add("popup_visible"))}),e)}},{key:"resizePopup",value:function(){this.currentPopup.setAttribute("style","margin: ".concat((window.innerHeight-height)/2,"px 0 0 ").concat((window.innerWidth-width)/2,"px"))}},{key:"open",value:function(t){this.elCenterX=e.returnCenter(t,"x"),this.elCenterY=e.returnCenter(t,"y"),this.currentPopup.classList.add("popup_showing"),document.querySelector(".root").setAttribute("style","overflow-y: hidden"),e.runAnimation(this.currentPopup,this.marginHandler(this.elCenterX,this.elCenterY,!1),this.animationTime),e.runAnimation(this.container,e.scaleHandler(!1),this.animationTime),this.setPopupPositionDelay(this.animationTime,!1),window.addEventListener("resize",this.resizePopup),document.addEventListener("keydown",this.handleEscClose),this.currentPopup.addEventListener("click",this.handleOverlayClose)}},{key:"close",value:function(){this.setPopupPositionDelay(this.animationTime/1.5,!0),document.querySelector(".root").removeAttribute("style"),e.runAnimation(this.currentPopup,this.marginHandler(this.elCenterX,this.elCenterY,!0),this.animationTime/1.5),e.runAnimation(this.container,e.scaleHandler(!0),this.animationTime/1.5),window.removeEventListener("resize",this.resizePopup),document.removeEventListener("keydown",e.handleEscClose),this.currentPopup.removeEventListener("click",e.handleOverlayClose)}},{key:"setEventListeners",value:function(){var e=this;this.closeButton.addEventListener("click",(function(){return e.close()}))}}])&&t(n.prototype,i),o&&t(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(),i=function(e,t){var n=document.querySelectorAll(e),i=document.querySelector(t);Array.from(n).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),i.scrollIntoView({behavior:"smooth"})}))}))},o=document.querySelector(".popup_type_product");document.querySelector(".popup_type_about"),i(".header__about-link",".about"),i(".button_type_order",".order__form"),i(".button_type_scroll",".header"),i(".button_type_examples",".products"),i(".lead__more",".about"),window.addEventListener("scroll",(function(){var e=document.querySelector(".button_type_scroll");window.scrollY>document.documentElement.clientHeight?e.classList.remove("button_hidden"):e.classList.add("button_hidden")}));var r=new n(o);r.setEventListeners();var s=new n(o);s.setEventListeners(),Array.from(document.querySelectorAll(".button_type_product")).forEach((function(e){e.addEventListener("click",(function(e){r.open(e),o.querySelector(".popup__header").textContent="Hello world"}))})),Array.from(document.querySelectorAll(".card__button")).forEach((function(e){e.addEventListener("click",(function(e){s.open(e)}))}))})();